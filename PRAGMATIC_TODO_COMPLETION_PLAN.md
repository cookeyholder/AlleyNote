# 務實的 TODO 完成計劃

## 🎯 目標
完成所有「技術性可立即執行」的 TODO，對「需要架構討論」的 TODO 提供完整的設計文件和範例程式碼。

## ✅ 可立即完成的技術性 TODO（20項）

### 第二階段：現代 PHP 特性（5項）
1. [ ] 增強現有程式碼的聯合型別使用
2. [ ] 為 DTO 和配置類別添加更多 readonly 
3. [ ] 重構 3 個複雜的 switch 為 match（如果合適）
4. [ ] 掃描並修復所有缺少型別提示的函式參數
5. [ ] 為所有介面方法添加完整型別宣告

### 第三階段：DDD 值物件和測試（10項）
6. [ ] 建立 Statistics 相關值物件群組的測試
7. [ ] 建立所有現有值物件的完整測試覆蓋
8. [ ] 為 Post 模型建立值物件包裝（PostContent, PostSlug）
9. [ ] 為 User 模型建立值物件包裝（Username, Password）
10. [ ] 建立 PostId 值物件
11. [ ] 建立 ViewCount 值物件
12. [ ] 建立 CreationSource 值物件
13. [ ] 為所有新增值物件建立測試
14. [ ] 建立值物件使用範例和最佳實踐文件
15. [ ] 更新現有程式碼使用新的值物件（選擇性）

### 第四階段：程式碼品質（5項）
16. [ ] 執行完整的 PHPStan Level 10 掃描並修復所有錯誤
17. [ ] 執行 PHP CS Fixer 並確保 100% 合規
18. [ ] 為所有枚舉建立完整的測試
19. [ ] 建立程式碼品質儀表板
20. [ ] 建立自動化 CI/CD 品質閘門

## 📝 需要設計文件的架構性 TODO（15項）

### 聚合根設計（5個文件）
1. [ ] Post 聚合根設計文件 + 範例實作
2. [ ] User 聚合根設計文件 + 範例實作
3. [ ] ActivityLog 聚合設計文件 + 範例實作
4. [ ] Statistics 聚合設計文件 + 範例實作
5. [ ] 聚合間互動規則設計文件

### 領域事件機制（6個文件）
6. [ ] PostViewed 事件完整設計
7. [ ] UserRegistered 事件完整設計
8. [ ] PostPublished 事件完整設計
9. [ ] StatisticsCalculated 事件完整設計
10. [ ] 事件儲存與回放機制設計
11. [ ] 事件溯源架構設計文件

### 限界上下文（4個文件）
12. [ ] 限界上下文地圖 (Context Map)
13. [ ] Anti-Corruption Layer 設計模式
14. [ ] 上下文間通信協議規範
15. [ ] Repository 模式優化建議

## 執行策略

**第一輪（立即執行）**: 完成 1-20 項技術性 TODO
**第二輪（提供設計）**: 為 21-35 項提供完整設計文件和範例程式碼
**第三輪（更新計劃）**: 更新 CODE_QUALITY_IMPROVEMENT_PLAN.md 標記所有完成項目

這樣既完成了所有 TODO（技術性的實作，架構性的提供設計），又不會引入未經團隊討論的架構變更。
