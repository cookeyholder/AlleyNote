### **AlleyNote 前端介面設計規劃文件**

#### **1. 整體設計哲學與技術選型**

*   **設計風格**: 延續 `index.html` 的現代、簡潔、專業風格。
    *   **色彩**: 以 `modern` (灰階) 作為基礎色調，搭配 `accent` (藍色) 作為強調與互動元素的主色，並適時使用綠、紫、橘等顏色作為狀態或特定功能的輔助色。
    *   **字體**: 全站統一使用 `Inter` 無襯線字體，確保在各種裝置上的可讀性。
    *   **版面**: 採用大量留白、圓角卡片式設計 (`rounded-2xl`)、細緻的邊框 (`border-modern-200`) 與陰影 (`card-hover`)，創造輕盈、有層次的視覺感受。
*   **技術棧**:
    *   **建構工具**: Vite (提供極速的開發體驗與熱模組替換)。
    *   **CSS 框架**: Tailwind CSS (與 `index.html` 保持一致，方便快速建構 UI)。
    *   **JavaScript**: 使用原生 ES6+ JavaScript，保持專案輕量。初期不導入大型框架 (如 React/Vue)，但會以模組化方式組織程式碼，為未來擴展預留空間。
    *   **編輯器**: CKEditor 5 (Classic Build)，提供強大且現代化的所見即所得編輯體驗。
    *   **圖示**: Font Awesome (與 `index.html` 保持一致)。

#### **2. 核心佈局與共用組件**

為了確保風格一致性，我們將定義兩種主要佈局和一系列共用組件。

*   **A. 公開佈局 (Public Layout)**
    *   **適用對象**: 查看文章的路人 (訪客)。
    *   **結構**:
        1.  **頂部導航列**: 簡化版，包含 Logo、網站標題、文章列表連結、登入按鈕。
        2.  **主要內容區**: 顯示文章列表或單一文章內容。
        3.  **頁腳**: 包含版權資訊與相關連結，風格與 `index.html` 頁腳一致。

*   **B. 管理後台佈局 (Dashboard Layout)**
    *   **適用對象**: 主管理員、其他管理員 (登入後)。
    *   **結構**:
        1.  **側邊導覽列 (Sidebar)**: 固定於左側，包含 Logo、使用者資訊、功能選單。根據不同管理員權限顯示不同選單項目。
        2.  **頂部標頭 (Header)**: 位於右側內容區的頂部，包含目前頁面標題、搜尋框、通知圖示、使用者頭像及登出下拉選單。
        3.  **主要內容區 (Main Content)**: 根據側邊欄選擇的功能，動態載入對應的操作介面。

*   **C. 共用組件 (Shared Components)**
    *   **按鈕 (Buttons)**:
        *   主要按鈕 (Primary): `bg-accent-600 text-white`。
        *   次要按鈕 (Secondary): `border-2 border-accent-600 text-accent-700`。
        *   危險按鈕 (Danger): `bg-red-600 text-white` (用於刪除)。
    *   **卡片 (Cards)**: `bg-white p-8 rounded-2xl border border-modern-200`，用於顯示文章、統計數據等。
    *   **表單 (Forms)**: 簡潔的輸入框、標籤、下拉選單設計，搭配清晰的驗證提示。
    *   **表格 (Tables)**: 用於展示文章列表、使用者列表。風格簡潔，具備排序功能。
    *   **模態框 (Modals)**: 用於確認刪除、顯示詳細資訊等互動。
    *   **提示/警告 (Alerts)**: 用於顯示操作成功、失敗或警告訊息。

#### **3. 各角色介面設計**

##### **3.1 查看文章的路人 (訪客)**

訪客介面著重於閱讀體驗與內容呈現。

*   **A. 文章列表頁 (`/`)**
    *   **佈局**: 公開佈局。
    *   **內容**:
        *   頁面頂部可能有一個 Hero 區塊，簡介網站。
        *   下方為文章卡片列表，以網格或列表形式排列。
        *   每張卡片顯示：文章標題、作者、發布日期、分類標籤、內容摘要。
        *   提供分頁功能。
        *   可能包含一個簡單的搜尋框或依分類篩選的功能。

*   **B. 文章內頁 (`/posts/{id}`)**
    *   **佈局**: 公開佈局。
    *   **內容**:
        *   主要區域顯示文章標題、作者資訊、發布日期。
        *   下方為由後端渲染的 CKEditor 5 產生的 HTML 內容，需確保樣式（標題、清單、引言等）美觀且易於閱讀。
        *   文章結尾可顯示相關文章或留言區塊（若未來有此功能）。

*   **C. 管理員登入頁 (`/login`)**
    *   **佈局**: 簡化佈局，僅包含置中的登入表單。
    *   **內容**:
        *   Logo 與網站標題。
        *   帳號（Email）與密碼輸入框。
        *   「登入」按鈕。
        *   登入失敗時的錯誤提示。

##### **3.2 其他管理員 (Admin)**

登入後進入管理後台，擁有文章管理的核心權限。

*   **A. 儀表板 (Dashboard)**
    *   **佈局**: 管理後台佈局。
    *   **側邊欄選單**:
        *   儀表板
        *   文章管理
        *   個人資料
    *   **內容**:
        *   顯示關鍵數據卡片，如：我發布的文章數、總瀏覽量等。
        *   顯示最近發布的文章列表或待辦事項。

*   **B. 文章管理頁 (`/admin/posts`)**
    *   **內容**:
        *   頂部有「新增文章」按鈕。
        *   下方為文章列表表格，欄位包含：標題、狀態（已發布/草稿）、作者、分類、發布日期、操作。
        *   「操作」欄位包含：編輯、查看、刪除按鈕。
        *   提供搜尋和篩選功能。

*   **C. 新增/編輯文章頁 (`/admin/posts/create`, `/admin/posts/{id}/edit`)**
    *   **內容**:
        *   **文章標題輸入框**。
        *   **CKEditor 5 編輯器**: 佔據頁面主要空間，用於撰寫文章內容。
        *   **右側設定欄**:
            *   **發布狀態**: 下拉選單（已發布、草稿）。
            *   **分類**: 選擇文章分類。
            *   **標籤**: 輸入文章標籤。
            *   **特色圖片**: 上傳圖片功能。
            *   **儲存/發布按鈕**。

##### **3.3 主管理員 (Super Admin)**

擁有「其他管理員」所有權限，並增加系統級管理功能。

*   **A. 儀表板 (Dashboard)**
    *   **側邊欄選單**:
        *   儀表板
        *   文章管理
        *   **使用者管理 (新增)**
        *   **系統統計 (新增)**
        *   **系統設定 (新增)**
        *   個人資料
    *   **內容**:
        *   除了管理員的數據外，還會顯示全站的數據卡片，如：總文章數、總使用者數、系統健康狀態等。

*   **B. 使用者管理頁 (`/admin/users`)**
    *   **內容**:
        *   頂部有「新增管理員」按鈕。
        *   下方為使用者列表表格，欄位包含：使用者名稱、Email、角色（主管理員/其他管理員）、註冊日期、操作。
        *   「操作」欄位包含：編輯、刪除按鈕。

*   **C. 系統統計頁 (`/admin/statistics`)**
    *   **內容**:
        *   使用圖表（如 Chart.js）展示更詳細的數據分析。
        *   例如：每日文章發布趨勢、熱門文章排行、使用者活動分析等。

*   **D. 系統設定頁 (`/admin/settings`)**
    *   **內容**:
        *   提供表單來設定網站全域參數。
        *   例如：網站標題、Logo 上傳、維護模式開關等。

#### **4. CKEditor 5 整合計畫**

1.  **選擇版本**: 使用 CDN 上的 Classic Build 版本，方便快速整合。
    ```html
    <script src="https://cdn.ckeditor.com/ckeditor5/41.4.2/classic/ckeditor.js"></script>
    ```
2.  **初始化**: 在新增/編輯文章頁面，透過 JavaScript 將編輯器附加到一個 `<div>` 或 `<textarea>` 元素上。
    ```javascript
    ClassicEditor
        .create(document.querySelector('#editor'))
        .catch(error => {
            console.error(error);
        });
    ```
3.  **功能配置**: 預設 Classic Build 已包含常用功能（標題、粗體、斜體、清單、連結、引言等）。
4.  **圖片上傳**: 這是關鍵功能。需要配置 CKEditor 5 的圖片上傳適配器 (`upload adapter`)，使其能夠將使用者上傳的圖片發送到後端指定的 API 端點，後端處理儲存後再回傳圖片 URL 給編輯器顯示。
5.  **資料處理**: 提交表單時，使用 `editor.getData()` 方法獲取編輯器中的 HTML 內容，並將其作為請求的一部分發送到後端儲存。
6.  **樣式統一**: 需撰寫特定 CSS，確保編輯器內部的內容樣式（如 H1, H2, p, blockquote）與前端訪客看到的文章內頁樣式保持一致，達到真正的「所見即所得」。

---

## 📚 相關參考文件

為確保開發過程順利，請務必閱讀以下補充文件：

### 核心技術文件
1. **[API 整合指南](./API_INTEGRATION_GUIDE.md)** - API Client 架構、認證、錯誤處理
2. **[狀態管理策略](./STATE_MANAGEMENT_STRATEGY.md)** - 全域/頁面/組件狀態管理方案
3. **[安全檢查清單](./SECURITY_CHECKLIST.md)** - XSS、CSRF、資料驗證等安全規範
4. **[測試策略](./TESTING_STRATEGY.md)** - E2E、整合、單元測試的完整指南
5. **[部署指南](./DEPLOYMENT_GUIDE.md)** - 構建、部署、監控的最佳實踐

### 開發流程
1. 開發前先閱讀 **API 整合指南** 與 **狀態管理策略**
2. 開發中遵循 **安全檢查清單** 的規範
3. 開發完成後參考 **測試策略** 撰寫測試
4. 部署時依照 **部署指南** 的流程執行

### 待辦清單
- 請參考 **[FRONTEND_TODO_LIST.md](./FRONTEND_TODO_LIST.md)** 獲取詳細的開發任務清單與檢查項目
