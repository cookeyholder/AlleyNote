# 文章管理 - 批次刪除功能使用說明

## 功能概述

批次刪除功能讓管理員可以一次選擇並刪除多篇文章，大幅提升管理效率。

## 使用步驟

### 1. 進入批次模式

在「文章管理」頁面，點擊右上角的 **「📋 批次刪除」** 按鈕。

- 按鈕會變成藍色並顯示「📋 取消批次」
- 頁面會顯示批次操作工具列
- 文章列表會新增 checkbox 欄位

### 2. 選擇要刪除的文章

有三種方式可以選擇文章：

#### 方式一：逐一勾選
點擊文章列左側的 checkbox 來選擇個別文章

#### 方式二：使用全選
點擊工具列中的 **「全選」** 按鈕，可以選擇當前頁面的所有文章

#### 方式三：使用表頭 checkbox
勾選表格表頭的 checkbox，可以快速選擇/取消選擇當前頁面所有文章

### 3. 查看選擇狀態

- 工具列會即時顯示：**「已選擇 X 篇文章」**
- 被選中的文章列會有淡藍色背景標示

### 4. 執行批次刪除

1. 確認已選擇要刪除的文章
2. 點擊工具列中的 **「🗑️ 刪除選中的文章」** 按鈕（紅色）
3. 系統會顯示確認對話框：
   ```
   確定要刪除選中的 X 篇文章嗎？
   此操作無法復原
   ```
4. 點擊「確定」後，系統會：
   - 顯示「正在刪除 X 篇文章...」
   - 並行執行所有刪除操作
   - 成功後顯示「成功刪除 X 篇文章」
   - 自動退出批次模式
   - 重新載入文章列表

### 5. 取消操作

若要退出批次模式而不刪除，可以：
- 點擊工具列的 **「取消」** 按鈕
- 或再次點擊 **「📋 取消批次」** 按鈕

## 功能特點

### ✅ 智能選擇
- 支援全選/取消全選
- 即時顯示選擇數量

### ✅ 安全防護
- 必須至少選擇一篇文章才能執行刪除
- 刪除前會顯示確認對話框
- 明確提示操作無法復原

### ✅ 視覺反饋
- 選中的文章會以淡藍色背景標示
- 實時更新選擇計數
- 批次模式下按鈕會改變顏色和文字

### ✅ 批次處理
- 使用並行請求提升刪除速度
- 顯示處理進度
- 自動處理成功/失敗狀態

## 介面說明

### 批次模式 ON
```
┌─────────────────────────────────────────────────────┐
│ 已選擇 3 篇文章  [全選] [取消全選]                    │
│                     [🗑️ 刪除選中的文章] [取消]         │
└─────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────┐
│ ☑ │ 標題              │ 狀態  │ 作者   │ 發布時間    │
├───┼──────────────────┼──────┼───────┼────────────┤
│ ☑ │ 文章標題 1        │ 已發布│ Admin  │ 2025-10-14 │ (淡藍色背景)
│ ☐ │ 文章標題 2        │ 草稿  │ Admin  │ 2025-10-13 │
│ ☑ │ 文章標題 3        │ 已發布│ Editor │ 2025-10-12 │ (淡藍色背景)
└─────────────────────────────────────────────────────┘
```

### 一般模式
```
┌─────────────────────────────────────────────────────────────┐
│ 標題              │ 狀態  │ 作者   │ 發布時間    │ 操作      │
├──────────────────┼──────┼───────┼────────────┼──────────┤
│ 文章標題 1        │ 已發布│ Admin  │ 2025-10-14 │[編輯][發布][刪除]│
│ 文章標題 2        │ 草稿  │ Admin  │ 2025-10-13 │[編輯][發布][刪除]│
└─────────────────────────────────────────────────────────────┘
```

## 常見問題

### Q: 可以一次刪除多少篇文章？
A: 理論上沒有上限，但建議單次不超過 100 篇，以確保操作穩定。

### Q: 刪除會影響資料庫嗎？
A: 是的，批次刪除會從資料庫中永久刪除文章，操作無法復原。

### Q: 如果某篇文章刪除失敗會怎樣？
A: 系統會顯示錯誤訊息，但不會影響其他文章的刪除操作。

### Q: 可以同時刪除已發布和草稿文章嗎？
A: 可以，批次刪除不限制文章狀態。

## 技術細節

### API 調用
批次刪除使用並行 DELETE 請求：
```javascript
DELETE /api/posts/{id}  // 對每篇選中的文章
```

### 錯誤處理
- 網路錯誤：顯示「批次刪除失敗」並保留選擇狀態
- 權限錯誤：顯示相應錯誤訊息
- 部分失敗：顯示錯誤但成功的項目仍會被刪除

## 最佳實踐

1. **刪除前仔細檢查**：確認選中的文章確實是要刪除的
2. **分批處理**：大量文章建議分批刪除，每次不超過 50 篇
3. **備份重要資料**：刪除重要文章前建議先備份
4. **使用篩選功能**：配合狀態篩選和搜尋功能，更精確地選擇要刪除的文章
