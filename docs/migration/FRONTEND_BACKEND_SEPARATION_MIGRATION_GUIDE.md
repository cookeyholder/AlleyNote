# å‰å¾Œç«¯åˆ†é›¢é·ç§»æŒ‡å—

## ğŸ“‹ é·ç§»æ‘˜è¦

æœ¬å°ˆæ¡ˆå·²æˆåŠŸå¾å–®é«”æ¶æ§‹é·ç§»è‡³å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹ï¼Œå…·å‚™ä»¥ä¸‹ç‰¹è‰²ï¼š

### ğŸ¯ æ–°æ¶æ§‹ç‰¹é»
- **å‰ç«¯**: Vite + JavaScript + CSS3 å»ºæ§‹çš„ç¾ä»£åŒ– SPA
- **å¾Œç«¯**: PHP 8.4 + DDD æ¶æ§‹çš„ RESTful API
- **éƒ¨ç½²**: Docker Compose å®¹å™¨åŒ–éƒ¨ç½²
- **ä»£ç†**: Nginx åå‘ä»£ç†ï¼Œçµ±ä¸€å…¥å£é»

### ğŸ“‚ ç›®éŒ„çµæ§‹è®Šæ›´

#### é·ç§»å‰ (å–®é«”æ¶æ§‹)
```
AlleyNote/
â”œâ”€â”€ app/               # PHP æ‡‰ç”¨ç¨‹å¼
â”œâ”€â”€ config/            # è¨­å®šæª”
â”œâ”€â”€ public/            # Web æ ¹ç›®éŒ„
â”œâ”€â”€ database/          # è³‡æ–™åº«
â”œâ”€â”€ tests/             # æ¸¬è©¦
â””â”€â”€ composer.json      # PHP ä¾è³´
```

#### é·ç§»å¾Œ (å‰å¾Œç«¯åˆ†é›¢)
```
AlleyNote/
â”œâ”€â”€ frontend/          # å‰ç«¯æ‡‰ç”¨ç¨‹å¼
â”‚   â”œâ”€â”€ src/           # å‰ç«¯åŸå§‹ç¢¼
â”‚   â”œâ”€â”€ public/        # å‰ç«¯å…¬ç”¨è³‡æº
â”‚   â”œâ”€â”€ dist/          # å»ºæ§‹ç”¢å‡º
â”‚   â”œâ”€â”€ package.json   # å‰ç«¯ä¾è³´
â”‚   â””â”€â”€ vite.config.js # å»ºæ§‹è¨­å®š
â”œâ”€â”€ backend/           # å¾Œç«¯æ‡‰ç”¨ç¨‹å¼
â”‚   â”œâ”€â”€ app/           # PHP æ‡‰ç”¨ç¨‹å¼
â”‚   â”œâ”€â”€ config/        # è¨­å®šæª”
â”‚   â”œâ”€â”€ public/        # API å…¥å£é»
â”‚   â”œâ”€â”€ database/      # è³‡æ–™åº«
â”‚   â”œâ”€â”€ tests/         # æ¸¬è©¦
â”‚   â””â”€â”€ composer.json  # PHP ä¾è³´
â”œâ”€â”€ docker/            # Docker è¨­å®š
â”œâ”€â”€ package.json       # å·¥ä½œå€ç®¡ç†
â””â”€â”€ README.md          # æ›´æ–°çš„æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚
- **Node.js**: 18.0+
- **Docker**: 24.0+
- **Docker Compose**: 2.20+

### ä¸€éµå•Ÿå‹•
```bash
# 1. è¤‡è£½å°ˆæ¡ˆ
git clone <repository-url>
cd alleynote

# 2. å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ
npm run dev

# 3. ç­‰å¾…æœå‹™å•Ÿå‹•ï¼Œç„¶å¾Œè¨ªå•
open http://localhost:3000  # å‰ç«¯é–‹ç™¼ä¼ºæœå™¨
open http://localhost       # å®Œæ•´æœå‹™
```

### æœå‹™ç¶²å€
| æœå‹™ | URL | èªªæ˜ |
|------|-----|------|
| ğŸŒ å‰ç«¯æ‡‰ç”¨ | http://localhost:3000 | Vite é–‹ç™¼ä¼ºæœå™¨ |
| ğŸ”Œ API æœå‹™ | http://localhost/api | RESTful API |
| ğŸ“š API æ–‡ä»¶ | http://localhost/api/docs/ui| Swagger æ–‡ä»¶ |
| â¤ï¸ å¥åº·æª¢æŸ¥ | http://localhost/health | ç³»çµ±ç‹€æ…‹ |

## ğŸ”§ é–‹ç™¼å·¥ä½œæµç¨‹

### å‰ç«¯é–‹ç™¼
```bash
cd frontend

# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev

# å»ºæ§‹ç”Ÿç”¢ç‰ˆæœ¬
npm run build

# é è¦½ç”Ÿç”¢ç‰ˆæœ¬
npm run preview
```

### å¾Œç«¯é–‹ç™¼
```bash
# é€²å…¥å¾Œç«¯å®¹å™¨
docker compose exec web bash

# åŸ·è¡Œæ¸¬è©¦
composer test

# ç¨‹å¼ç¢¼æª¢æŸ¥
composer ci
```

### å…¨å°ˆæ¡ˆç®¡ç†
```bash
# å®‰è£æ‰€æœ‰ä¾è³´
npm install

# å•Ÿå‹•å‰å¾Œç«¯æœå‹™
npm run dev

# åŸ·è¡Œæ¸¬è©¦
npm run test

# å»ºæ§‹ç”Ÿç”¢ç‰ˆæœ¬
npm run build
```

## ğŸ“¦ éƒ¨ç½²æŒ‡å—

### é–‹ç™¼ç’°å¢ƒ
```bash
# å•Ÿå‹•æ‰€æœ‰æœå‹™
docker compose up -d

# æª¢æŸ¥æœå‹™ç‹€æ…‹
docker compose ps
```

### ç”Ÿç”¢ç’°å¢ƒ
```bash
# ä½¿ç”¨ç”Ÿç”¢è¨­å®š
docker compose -f docker compose.production.yml up -d

# å»ºæ§‹å‰ç«¯
npm run build

# æ›´æ–°å¾Œç«¯ä¾è³´
docker compose exec web composer install --no-dev --optimize-autoloader
```

## ğŸ§ª æ¸¬è©¦é©—è­‰

### é©—è­‰é·ç§»æˆåŠŸ
```bash
# 1. æª¢æŸ¥ Docker æœå‹™
docker compose ps

# 2. æ¸¬è©¦ API å¥åº·æª¢æŸ¥
curl http://localhost/api/health

# 3. æª¢æŸ¥å‰ç«¯è¼‰å…¥
curl http://localhost/ | grep "AlleyNote"

# 4. åŸ·è¡Œå¾Œç«¯æ¸¬è©¦
docker compose exec web composer test

# 5. ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥
docker compose exec web composer ci
```

### é æœŸçµæœ
- âœ… æ‰€æœ‰ Docker æœå‹™é‹è¡Œæ­£å¸¸
- âœ… API å›æ‡‰ JSON æ ¼å¼å¥åº·æª¢æŸ¥
- âœ… å‰ç«¯é¡¯ç¤ºã€ŒAlleyNote å··å¼„ç­†è¨˜ã€
- âœ… 1214 å€‹æ¸¬è©¦å…¨éƒ¨é€šé
- âœ… ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥é€šé

## ğŸ”„ å›æ»¾æŒ‡å—

å¦‚éœ€å›æ»¾åˆ°é·ç§»å‰ç‹€æ…‹ï¼š

```bash
# 1. æª¢å‡ºé·ç§»å‰çš„ commit
git log --oneline | grep "é·ç§»å‰"
git checkout <commit-hash>

# 2. æˆ–ä½¿ç”¨ _migration_backup ç›®éŒ„
# (å¦‚æœæœ‰ä¿ç•™çš„è©±)
```

## ğŸ“ æŠ€è¡“æ”¯æ´

### å¸¸è¦‹å•é¡Œ
1. **Docker ç„¡æ³•å•Ÿå‹•**: ç¢ºèª Docker daemon æ­£åœ¨é‹è¡Œ
2. **å‰ç«¯å»ºæ§‹å¤±æ•—**: æª¢æŸ¥ Node.js ç‰ˆæœ¬æ˜¯å¦ç‚º 18+
3. **API é€£ç·šå¤±æ•—**: ç¢ºèªå¾Œç«¯å®¹å™¨æ­£å¸¸é‹è¡Œ
4. **æ¬Šé™å•é¡Œ**: æª¢æŸ¥æª”æ¡ˆæ¬Šé™è¨­å®š

### é–‹ç™¼åœ˜éšŠè¯çµ¡æ–¹å¼
- **æŠ€è¡“è² è²¬äºº**: [è¯çµ¡è³‡è¨Š]
- **å°ˆæ¡ˆæ–‡ä»¶**: [æ–‡ä»¶é€£çµ]
- **å•é¡Œå›å ±**: [Issue è¿½è¹¤ç³»çµ±]

---

> ğŸ‰ æ­å–œï¼å‰å¾Œç«¯åˆ†é›¢é·ç§»å·²æˆåŠŸå®Œæˆï¼
>
> æ–°æ¶æ§‹æä¾›æ›´å¥½çš„é–‹ç™¼é«”é©—ã€æ›´æ¸…æ™°çš„ç¨‹å¼ç¢¼çµæ§‹ï¼Œä»¥åŠæ›´éˆæ´»çš„éƒ¨ç½²é¸æ“‡ã€‚
