import{b as n,e,g as a,a as t,r as s}from"./index-DHmEDfox.js";import{t as o}from"./toast-ChPGQGGG.js";function r(a){const t=n.getCurrentUser(),s=e.get("sidebarCollapsed");return`\n    <div class="min-h-screen bg-modern-50">\n      \x3c!-- 側邊欄 --\x3e\n      <aside class="${s?"w-20":"w-64"} fixed left-0 top-0 h-full bg-white border-r border-modern-200 transition-all duration-300 z-40">\n        <div class="p-4 border-b border-modern-200">\n          <div class="flex items-center ${s?"justify-center":"justify-between"}">\n            ${s?"":'<h1 class="text-xl font-bold text-accent-600">AlleyNote</h1>'}\n            <button \n              id="sidebar-toggle"\n              class="p-2 hover:bg-modern-100 rounded-lg transition-colors"\n            >\n              ${s?"→":"←"}\n            </button>\n          </div>\n        </div>\n        \n        <nav class="p-4 space-y-2">\n          <a href="/admin/dashboard" data-navigo class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-accent-50 text-modern-700 transition-colors">\n            <span>📊</span>\n            ${s?"":"<span>儀表板</span>"}\n          </a>\n          <a href="/admin/posts" data-navigo class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-accent-50 text-modern-700 transition-colors">\n            <span>📝</span>\n            ${s?"":"<span>文章管理</span>"}\n          </a>\n          <a href="/admin/tags" data-navigo class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-accent-50 text-modern-700 transition-colors">\n            <span>🏷️</span>\n            ${s?"":"<span>標籤管理</span>"}\n          </a>\n          ${n.isAdmin()?`\n            <a href="/admin/users" data-navigo class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-accent-50 text-modern-700 transition-colors">\n              <span>👥</span>\n              ${s?"":"<span>使用者管理</span>"}\n            </a>\n            <a href="/admin/roles" data-navigo class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-accent-50 text-modern-700 transition-colors">\n              <span>🔐</span>\n              ${s?"":"<span>角色管理</span>"}\n            </a>\n            <a href="/admin/statistics" data-navigo class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-accent-50 text-modern-700 transition-colors">\n              <span>📈</span>\n              ${s?"":"<span>系統統計</span>"}\n            </a>\n            <a href="/admin/settings" data-navigo class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-accent-50 text-modern-700 transition-colors">\n              <span>⚙️</span>\n              ${s?"":"<span>系統設定</span>"}\n            </a>\n          `:""}\n          <a href="/admin/profile" data-navigo class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-accent-50 text-modern-700 transition-colors">\n            <span>👤</span>\n            ${s?"":"<span>個人資料</span>"}\n          </a>\n        </nav>\n        \n        <div class="absolute bottom-0 left-0 right-0 p-4 border-t border-modern-200">\n          <div class="flex items-center ${s?"justify-center":"gap-3"}">\n            <div class="w-10 h-10 rounded-full bg-accent-500 flex items-center justify-center text-white font-semibold">\n              ${((null==t?void 0:t.name)||"U")[0].toUpperCase()}\n            </div>\n            ${s?"":`\n              <div class="flex-1">\n                <p class="text-sm font-medium text-modern-900">${(null==t?void 0:t.name)||"User"}</p>\n                <p class="text-xs text-modern-500">${(null==t?void 0:t.role)||"user"}</p>\n              </div>\n            `}\n          </div>\n          <button \n            id="logout-btn"\n            class="mt-3 w-full btn-secondary text-sm"\n          >\n            ${s?"🚪":"登出"}\n          </button>\n        </div>\n      </aside>\n      \n      \x3c!-- 主要內容區 --\x3e\n      <main class="${s?"ml-20":"ml-64"} transition-all duration-300">\n        <div class="p-8">\n          ${a}\n        </div>\n      </main>\n    </div>\n  `}function i(){const n=document.getElementById("sidebar-toggle");n&&n.addEventListener("click",()=>{a.toggleSidebar(),window.location.reload()});const e=document.getElementById("logout-btn");e&&e.addEventListener("click",async()=>{try{await t.logout(),a.clearUser(),o.success("已成功登出"),s.navigate("/login")}catch(n){o.error("登出失敗")}}),s.updatePageLinks()}export{i as b,r};
